<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Page</title>

    <link rel = "stylesheet" type = "text/css" href="styles.css">
</head>

<body>
    <header>
        
        <img width = "100px" height = "100px" src = "images/coal.png" alt ="Company Logo">
        <h2 id = 'company-name-align'>Jephora</h2>
                
                

    </header>
    <div class = 'navigation-bar'>
        
        <a href="index.html" class = "navigation-bar-link">Home</a>
        <a href = "login.html" class = "navigation-bar-link">Login</a>
        <a href = "contact.html"class = "navigation-bar-link">Contact</a>

    </div>
    <main>
        <section class = "products">
            <table>
                <tr>
                    <td>
                        <div class = "product">
                            <img src = "images/glowy-gel.webp">
                            <h2>Gel</h2>

                            <p>$40</p>
                            <button>Add to Cart</button>
                        </div>
                    </td>
                    
                   
                    <td>
                        <div class = "product">
                            <img src = "images/valentino.webp" alt = valentino>
                            <h2>Perfume</h2>
                            <p>$170</p>
                            <button>Add to Cart</button>
                        </div>

                    </td>
                </tr>
         
           
                <tr>
                    <td>
                        <div class = "product">

                            <img src = "images/cleanser.webp" alt = cleanser>
                            <h2>Cleanser</h2>
                            <p>$20</p>
                            <button>Add to Cart</button>
                        </div>

                    </td>
                    <td>
                        <div class = "product">

                            <img src = "images/hairbrush.webp" alt = hairbrush>
                            <h2>Hairbrush</h2>
                            <p>$20</p>
                            <button>Add to Cart</button>
                        </div>
                    </td>
                </tr>
                
                <tr>
                    <td>
                        <div class = "product">

                            <img src = "images/lip-balm.webp" alt = lip-balm>
                            <h2>Lip Balm</h2>
                            <p>$10</p>
                            <button>Add to Cart</button>
                        </div>
                    </td>
                    
                    <td>
                        <div class = "product">

                            <img src = "images/scalp-massager.webp" alt = scalp-massager>
                            <h2>Scalp Massager</h2>
                            <p>$5</p>
                            <button>Add to Cart</button>
                        </div>
                    </td>

                </tr>
                
                <tr>
                    <td>
                        <div class = "product">

                            <img src = "images/vit-c.webp" alt = scalp-massager>
                            <h2>Serum</h2>
                            <p>$30</p>
                            <button>Add to Cart</button>
                        </div>
                    </td>
                    <td>
                        <div class = "product">
                            <img  src = "images/conditioner.webp" alt = scalp-massager>
                            <h2>Conditioner</h2>
                            <p>$30</p>
                            <button>Add to Cart</button>
                        </div>
                    </td>
                </tr>
            </table>

        </section>
       
    </main>
    <footer>
        <p>Copyright: Julien Rabino, John Tumacder</p>
     </footer>

     <script>
        var shoppingCartSection = document.createElement('div');
        shoppingCartSection.id = 'shoppingCart';
        var shoppingCartTitle = document.createElement('h2')
        shoppingCartTitle.textContent = "Shopping Cart";
        shoppingCartTitle.style.textAlign = "center";
        shoppingCartSection.appendChild(shoppingCartTitle);
        document.querySelector('main').appendChild(shoppingCartSection);

        var addToCart = document.querySelectorAll('.product button');

		addToCart.forEach(button => {
            var product = button.parentElement;
            var productName = product.querySelector('h2').textContent;
            button.onclick = () => {
                alert(`${productName} has been added to cart!`);
                
                var existingProduct = document.querySelector(`#${productName}`);
                if (existingProduct == null){
                    var newProduct = document.createElement('p');
                    newProduct.id = `${productName}`;
                    var productPrice = product.querySelector('p').textContent;
                    var productQuantity = document.createElement('span');
                    productQuantity.textContent = '1';
                    productQuantity.id = 'productQty';

                    newProduct.textContent = `${productName} - ${productPrice} - `;
                    newProduct.appendChild(productQuantity)
                    newProduct.style.textAlign =  "center";

                    var removeButton = document.createElement('button');
                    removeButton.className = 'remove';
                    removeButton.textContent = "Remove";
                    removeButton.style = "background-color: #4CAF50; padding: 10px; border-radius: 5px; margin: 10px; height:40px; width: 100px;";
                    removeButton.onmouseout = () => {removeButton.style ="background-color: #4CAF50; padding: 10px; border-radius: 5px; margin: 10px; height:40px; width: 100px;";}
                    removeButton.onmouseover = () =>{removeButton.style = "background-color: #ff0000; padding: 10px; border-radius: 5px; margin: 10px; height:40px; width: 100px;";}
                    removeButton.onclick = () =>{
                        var product = removeButton.parentElement;
                        
                        var pastQuantity = parseInt(product.querySelector('#productQty').textContent);

                        if (pastQuantity == 1){
                            product.parentNode.removeChild(product);
                        }
                        else{
                            var newQuantity = pastQuantity-1;
                            product.querySelector('#productQty').textContent = newQuantity;
                        }

                }
            
                    newProduct.appendChild(removeButton);
                    shoppingCartSection.appendChild(newProduct);

            }
                
                else{

                    var pastQuantity = parseInt(existingProduct.querySelector('#productQty').textContent);
                    var newQuantity = pastQuantity+1;
                    existingProduct.querySelector('#productQty').textContent = newQuantity;


                }
            }
        })
        
            
        
    
     </script>
</body>
</html>